<!DOCTYPE html>
<html lang="en"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<meta name="theme-color" content="#6577FF">
	<title>E-Learning - Buat Akun</title>
	<link rel="stylesheet" href="../src/style/index.css">
	<link rel="icon" type="image/png" href="img/favicon.svg">
</head>

<body>
	

	<div id="app" class="row">
		<div class="left row bottom-xs col-lg-7 col-md-7 col-sm-7 col-xs-12">
			<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="arrowBack">
				<path d="M12 4L13.41 5.41L7.83 11H20V13H7.83L13.41 18.59L12 20L4 12L12 4Z" fill="white"></path>
			</svg>
			<div>
				<p>E-Learning</p>
				<h1>SDN 404 Jakarta</h1>
			</div>
		</div>
		<div class="right row middle-xs center-xs col-lg-5 col-md-5 col-sm-5 col-xs-12">
			<div class="daftar" style="display: block;">
				<div class="header">
					<h2>
						Buat Akun
					</h2>
				</div>
				<div class="pp" align="center">
				<img src="../src/img/pp.svg" alt="pp" style="border-radius: 100%;width: 100px;height: 100px;cursor: pointer;" />
				<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);background: #d42222;border-radius: 100%;padding: 1px;width: 20px;height: 20px;margin: -17px 0 0 0;display: none;cursor: pointer;" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z" fill="#fff"/></svg>
				</div>
				<form>
					<label style="display: none;">
						<span></span>
						<input type="file" accept="image/*" name="picture" />
					</label>
					<label>
						<span>Nama Lengkap</span>
						<input type="text" name="name">
					</label>
					<label>
						<span>Nama Penggua</span>
						<input type="text" name="username">
					</label>
					<label>
						<span>Alamat Email</span>
						<input type="email" name="email">
					</label>
					<label>
						<span>Kata Sandi</span>
						<input type="password" name="password">
						<div style="float:left;position: absolute;right: 12px;top: 9px;z-index: 99;">
							<svg width="18" height="11" viewBox="0 0 18 11" fill="none" xmlns="http://www.w3.org/2000/svg">
								<ellipse cx="8.81543" cy="5.5" rx="8.81543" ry="5.5" fill="#C4C4C4"></ellipse>
								<ellipse cx="8.81543" cy="5.5" rx="4.40771" ry="2.5" fill="#EDEDED"></ellipse>
							</svg>
						</div>
					</label>
					<label>
						<span>Konfirmasi Kata Sandi</span>
						<input type="password" class="konf" name="konfPass">
						<div style="float:left;position: absolute;right: 12px;top: 9px;z-index: 99;">
							<svg width="18" height="11" viewBox="0 0 18 11" fill="none" xmlns="http://www.w3.org/2000/svg">
								<ellipse cx="8.81543" cy="5.5" rx="8.81543" ry="5.5" fill="#C4C4C4"></ellipse>
								<ellipse cx="8.81543" cy="5.5" rx="4.40771" ry="2.5" fill="#EDEDED"></ellipse>
							</svg>
						</div>
					</label>
					<label>
						<select name="role">
							<option>-- Daftar Sebagai --</option>
							<option>Pengajar</option>
							<option>Siswa</option>
						</select>
					</label>
					<button class="row middle-xs center-xs">Daftar</button>
				</form>
			</div>
		</div>
		<div class="alert row middle-xs" style="position: fixed;right: 12px;top: 12px;width: calc(100% - 12px);max-width: 300px;background: #de1818;padding: 15px;color: #fff;z-index: 999;padding-right: 50px;font-size: 14px;line-height: 20px;">
			Nama Pengguna hanya boleh huruf kecil dan tanpa spasi

			<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);width: 20px;height: 20px;cursor: pointer;position: absolute;right: 15px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z" fill="#fff"/></svg>
		</div>
	</div>

<script src="../src/js/index.js"></script>
<script>

	document.querySelector(".right img").onclick = () => {
		document.querySelector("input[type='file']").click()
	}
	let image = undefined;
	document.querySelector("input[type='file']").addEventListener("change", e => {
		document.querySelector(".right img").setAttribute("src", URL.createObjectURL(e.target.files[0]));
		setTimeout(()=>{
			document.querySelector(".pp svg").style.display = "block"
			document.querySelector(".pp svg").onclick = () => {
				document.querySelector(".right img").setAttribute("src", "../src/img/pp.svg")
				document.querySelector(".pp svg").style.display = "none"
				image = undefined
			}
		}, 300)
		image = document.querySelector("input[type='file']").files[0]
	})
	document.querySelector(".arrowBack").onclick = () => {
		window.history.back()
	}

	// send to server
	// using express (Node Js)
	
	document.querySelector("form").addEventListener("submit", async (e) => {
		e.preventDefault();
		e.target.querySelector("button").innerHTML =
		`
		Mohon tunggu...
		<svg width="15" height="15" viewBox="0 0 24 24" style="animation: putar infinite 0.5s;margin-left:8px"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm8 12c0 4.418-3.582 8-8 8s-8-3.582-8-8 3.582-8 8-8 8 3.582 8 8zm-19 0c0-6.065 4.935-11 11-11v2c-4.962 0-9 4.038-9 9 0 2.481 1.009 4.731 2.639 6.361l-1.414 1.414.015.014c-2-1.994-3.24-4.749-3.24-7.789z" fill="#fff" /></svg>
		`
	})
	/*
		let name, username, email, password, konfPass, role;

		name = document.querySelector("input[name='name']").value;
		username = document.querySelector("input[name='username']").value;
		email = document.querySelector("input[name='email']").value;
		password = document.querySelector("input[name='password']").value;
		konfPass = document.querySelector("input[name='konfPass']").value;
		role = document.querySelector("select[name='role']").value;

		const data = new FormData();
		data.append('name', name);
		data.append('username', username);
		data.append('email', email);
		data.append('password', password);
		data.append('konfPass', konfPass);
		data.append('role', role);
		data.append('picture', image);

		fetch("http://localhost:8000/register", {
			method: "POST",
			body: data
		}).then(r => r.json()).then(result => {
			console.log(result);
		})


		// await fetch("http://localhost:8000/register", {
		// 	method: "POST",
		// 	headers: {
		// 		"Content-Type": "application/json"
		// 	},
		// 	body: JSON.stringify(data)
		// }).then(r => r.json()).then(result => {
		// 	console.log(result);
		// }).catch(err => console.log(err));

		// fetch("http://localhost:8000/upload-pp", {
		// 	method: "POST",
		// 	body: file
		// }).then(r => r.json()).then(result => {
		// 	console.log(result);
		// }).catch(err => {
		// 	console.log(err);
		// });
		// tolak permintaan selanjutnya
	})
	*/

	// using php lumen
	// ditunggu api nya wkwk

</script>




</body></html>